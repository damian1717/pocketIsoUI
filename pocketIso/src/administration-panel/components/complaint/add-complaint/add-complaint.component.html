<form [formGroup]="complaintFormGroup"  (ngSubmit)="onSubmit()">

  <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="1" fxFlexOrder.sm="1"
      fxFlexOrder.xs="1">
      <mat-form-field appearance="fill" tabindex="1">
        <mat-label>Rodzaj</mat-label>
        <mat-select id="type" type="text" formControlName="type" name="type">
          <mat-option *ngFor="let type of types" [value]="type.value">
            {{ type.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="1" fxFlexOrder.sm="1"
      fxFlexOrder.xs="1">
      <mat-form-field appearance="fill" tabindex="1">
        <mat-label>Status</mat-label>
        <mat-select id="status" type="text" formControlName="status" name="status">
          <mat-option *ngFor="let item of statuses" [value]="item.value">
            {{ item.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="2" fxFlexOrder.sm="2"
      fxFlexOrder.xs="2">
      <mat-form-field appearance="fill" tabindex="1">
        <mat-label for="client">Klient</mat-label>
        <input matInput id="client" type="text" formControlName="client">
        <mat-error *ngIf="(clientValue?.errors || null)?.['required']">
          Klient pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="2" fxFlexOrder.sm="2"
      fxFlexOrder.xs="2">
      <mat-form-field appearance="fill" tabindex="1">
        <mat-label for="product">Produkt</mat-label>
        <input matInput id="product" type="text" formControlName="product">
        <mat-error *ngIf="(productValue?.errors || null)?.['required']">
          Produkt pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>
  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="2" fxFlexOrder.sm="2"
      fxFlexOrder.xs="2">
      <mat-form-field appearance="fill" tabindex="4">
        <mat-label>Data</mat-label>
        <input matInput [matDatepicker]="picker1" formControlName="date">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="2" fxFlexOrder.sm="2"
      fxFlexOrder.xs="2">
      <mat-form-field appearance="fill" tabindex="4">
        <mat-label>Termin zakończenia</mat-label>
        <input matInput [matDatepicker]="picker2" formControlName="deadline">
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="2" fxFlexOrder.sm="2"
      fxFlexOrder.xs="2">
      <mat-form-field appearance="fill" tabindex="1">
        <mat-label for="responsiblePerson">Osoba odpowiedzialna</mat-label>
        <input matInput id="responsiblePerson" type="text" formControlName="responsiblePerson">
        <mat-error *ngIf="(responsiblePersonValue?.errors || null)?.['required']">
          Osoba odpowiedzialna jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>
  </div>

  <p>Opis problemu</p>

  <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">

    <div fxLayout="column" fxFlex.gt-sm="41%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill">
        <mat-label for="name">Co się stało?</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
          cdkAutosizeMaxRows="10" id="whatHappened" type="text" formControlName="whatHappened" required></textarea>
        <mat-error *ngIf="(whatHappenedValue?.errors || null)?.['required']">
          Pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="41%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill">
        <mat-label for="name">Dlaczego to stanowi problem?</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
          cdkAutosizeMaxRows="10" id="whyItIsProblem" type="text" formControlName="whyItIsProblem" required></textarea>
        <mat-error *ngIf="(whyItIsProblemValue?.errors || null)?.['required']">
          Pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>
  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">

    <div fxLayout="column" fxFlex.gt-sm="41%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill">
        <mat-label for="name">Gdzie zostało wykryte?</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
          cdkAutosizeMaxRows="10" id="whereProblemDetected" type="text" formControlName="whereProblemDetected"
          required></textarea>
        <mat-error *ngIf="(whereProblemDetectedValue?.errors || null)?.['required']">
          Pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill" tabindex="4">
        <mat-label>Kiedy zidentyfikowano problem</mat-label>
        <input matInput [matDatepicker]="picker3" formControlName="whenProblemIdentified">
        <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
        <mat-datepicker #picker3></mat-datepicker>
      </mat-form-field>
    </div>
  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">

    <div fxLayout="column" fxFlex.gt-sm="41%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill">
        <mat-label for="name">W jaki sposób zostało wykryte?</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
          cdkAutosizeMaxRows="10" id="howProblemDetected" type="text" formControlName="howProblemDetected"
          required></textarea>
        <mat-error *ngIf="(howProblemDetectedValue?.errors || null)?.['required']">
          Pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="41%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill">
        <mat-label for="name">Kto wykrył problem?</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
          cdkAutosizeMaxRows="10" id="whoProblemDetected" type="text" formControlName="whoProblemDetected"
          required></textarea>
        <mat-error *ngIf="(whoProblemDetectedValue?.errors || null)?.['required']">
          Pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>
  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">

    <div fxLayout="column" fxFlex.gt-sm="20%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="2" fxFlexOrder.sm="2"
      fxFlexOrder.xs="2">
      <mat-form-field appearance="fill" tabindex="1">
        <mat-label for="piecesNok">Ile sztuk NOK wykryto?</mat-label>
        <input matInput id="piecesNok" type="number" formControlName="piecesNok">
      </mat-form-field>
    </div>

  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">

    <div fxLayout="column" fxFlex.gt-sm="41%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill">
        <mat-label for="name">Prawidłowy proces [przykład OK]</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
          cdkAutosizeMaxRows="10" id="properProcess" type="text" formControlName="properProcess" required></textarea>
        <mat-error *ngIf="(properProcessValue?.errors || null)?.['required']">
          Pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxFlex.gt-sm="41%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill">
        <mat-label for="name">Wykryto niezgodności [przykład NOK]</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
          cdkAutosizeMaxRows="10" id="inconsistencyDetected" type="text" formControlName="inconsistencyDetected"
          required></textarea>
        <mat-error *ngIf="(inconsistencyDetectedValue?.errors || null)?.['required']">
          Pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>
  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">

    <div fxLayout="column" fxFlex.gt-sm="41%" fxFlex.sm="50%" fxFlex.xs="100%" fxFlexOrder="3" fxFlexOrder.sm="3"
      fxFlexOrder.xs="3">
      <mat-form-field appearance="fill">
        <mat-label for="name">Działania</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
          cdkAutosizeMaxRows="10" id="actions" type="text" formControlName="actions" required></textarea>
        <mat-error *ngIf="(actionsValue?.errors || null)?.['required']">
          Pole jest wymagane.
        </mat-error>
      </mat-form-field>
    </div>

  </div>

  <div fxLayout="row" fxLayoutAlign="center center">
    <button mat-raised-button style="margin-right: 20px;" class="save-button"
      (click)="redirectToComplaints()">Reklamacje</button>
    <button mat-raised-button color="primary" type="submit" class="save-button">Zapisz</button>
  </div>
</form>